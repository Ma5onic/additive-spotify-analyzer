


{% extends "layoutfsgt.html" %}

{% block topcontent %}


{% endblock %}


	{% block secondarycontent %}

	<div  style="background-image: linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.8)), url(/public/images/pexels-vladimir-kudinov-36363-1.jpg);  background-size: cover;">

		<!--div id="fh5co-blog-section" class="fh5co-section-gray"	-->
					<div class="col-md-8 col-md-offset-2 text-center heading-section animate-box">
						<a href="/newCompetition">Create new competition</a>

						<br>
						<h3>{{ subheader_message }} </h3>

						{% if competitionName is not none  %}
				<a href="/competitionDashboard">  <span class="glyphicon glyphicon-circle-arrow-left" aria-hidden="true"></span> back</a><br>

				<a href="/competitionDashboard/{{ competitionId}}/register">Registration link</a>

						{% else %}


						{% endif %}


					</div>


		<div class="container">
			<div class="row row-bottom-padded-md">


				{% if competitions is none  %}
	<table class="table table-borderless thead-dark table-hover table-dark table-sm border-0" data-toggle="table" >
         <thead borderless><tr>
		 <th></th>
         <th data-width="250" data-field="TimeAdded" data-filter-control="input">Name</th>
         <th data-field="artist" data-filter-control="input">Description</th>
         <th data-field="Owner" data-filter-control="select">Owner</th>
         <th data-filter-control-placeholder>Followers</th>
		 <th data-field="trackcount" data-filter-control="select">Track count</th>

         </tr>
         </thead>
    <tbody borderless>
         {# here we iterate over every item in our list which we will pass from bar() #}
         {% for key in library['playlists-tracks'] %}


                <tr><td>
					{% if key['images']|length >0 %}

						{% if key['public']  %}
							<a href="playlist/{{key['id']}}"><img src="{{ key['images'][0]['url'] }}"  width="100"></a>
					 	{% else %}
							<a href="playlistDashboard?playlistId={{key['id']}}"><img src="{{ key['images'][0]['url'] }}"  width="100"></a>
						{% endif %}
					{% endif %}

					</td>
					<td>
						{% if key['public']  %}
							<a href="playlist/{{key['id']}}"><b>{{key['name']}} </b></a></td> <td><i>{{key['description']}}</i><br>
						<a href="https://open.spotify.com/playlist/{{key['id']}}" target="_blank">
								<img src="public/images/spotify-green-icon.png" width="20"></a></a>
						{% else %}
							<a href="playlistDashboard?playlistId={{key['id']}}"><b>{{key['name']}}</b></a></td> <td><i><br>{{key['description']}}</i></a>
						{% endif %}

					</td>
					<td><i>{{key['owner']['display_name']}} </i></td><td class="text-right"> {{key['followers']['total']}}</td>
					<td class="text-right"> {{key['tracks']['total']}}</td>
                    </tr>


         {% endfor %}
         </tbody>
     </table>

			</div>
		</div>
{% endif %}



{% if climber is not none and climber is not undefined  %}
<div class="container">
	<div class="row">
				Name {{ climber['name'] }}
	({{ climber['sex'] }} ) from <i>{{climber['club'] }}</i>



				{{ climber['routesClimbed'] }}

</div>
		<div class="row">
			<form targt="/competitionDashboard/{{competitionId}}/updateRoutes">
<table style="width:100%"><tr>

					{% for i in range(100) %}
<td style="width:10%">

						<h3>	<a href="#" onclick="document.getElementById('route{{i}}').checked=!document.getElementById('route{{i}}').checked; return false;">
								 {{i}}</a>


								<input type="checkbox" id="route{{i}}" name="route{{i}}" value="{{i}}"
								{% if i in climber['routesClimbed'] %}checked{% endif %}

								></h3>

</td>
	{% if i%10==9 %} </tr><tr> {% endif %}

</td>

					{%endfor%}
</tr>
			</table>
				<button>Submit</button>
				</form>

</div>
	</div>
				{% endif %}





{% if competition is not none and competition is not undefined  %}


<div class="container-fluid">
<table class="table thead-dark table-hover"  data-toggle="table">
         <thead><tr>
         <th data-width="250" data-field="Time Added" data-filter-control="input">Name</th>
         <th data-field="artist" data-sortable="True">Sex</th>
         <th data-field="track" data-sortable="True">Club</th>
         <th data-field="category" data-sortable="True">Category</th>
         <th data-field="routes" data-filter-control="input">Routes climbed</th>
		 <th data-field="points" data-filter-control="input" data-sortable="True">Points</th>
			 <th data-field="rank" data-filter-control="input" data-sortable="True">Rank</th>

         </tr>
         </thead>
    <tbody>
         {# here we iterate over every item in our list which we will pass from bar() #}
    				{% for climberId in competition['climbers'] %}

		 {% if (competition['climbers'][climberId]['rank'] == 1) %}
		 <tr style="background: #CFC">
		{% elif competition['climbers'][climberId]['rank'] == 2 %}
			 <tr style="background: #AEA">
		{% elif competition['climbers'][climberId]['rank'] == 3 %}
			 <tr style="background: #9C9">
		{% else  %}
			 <tr style="background: #EEE">
		{% endif  %}

			 <td><a href="/competitionDashboard/{{ competitionId }}/climber/{{ climberId}}"><b>{{ competition['climbers'][climberId]['name'] }}</b></a></td>
					<td> {{ competition['climbers'][climberId]['sex'] }}</td>
			 <td><i>{{competition['climbers'][climberId]['club'] }}</i></td>
			 <td><i>  {{ reference_data['categories'][competition['climbers'][climberId]['category']] }}  </i></td>
			 <td><i>{{ competition['climbers'][climberId]['routesClimbed']}} </i> -
					{{ competition['climbers'][climberId]['routesClimbed']|length }} routes </i></td>
			 <td>{{ competition['climbers'][climberId]['score'] }}  </td>
			 <td>
				 <!--font size="+{{ 5-competition['climbers'][climberId]['rank'] }}"-->
				 <b>{{ competition['climbers'][climberId]['rank'] }}</b>
				 <!--/font-->

			 </td>
                    </tr>
             {% endfor %}


         </tbody>
     </table>







				{%endif %}

{% if competitions is not none  %}





					{% for competitionId in competitions %}


<div class=" col-md-2 ">

						<div id='albumArt{{ loop.index }}' class="fh5co-blog animate-box"
							>

							<a href="competitionDashboard/{{ competitionId }}">
							<div class="blog-text">
								<div class="prod-title">
									<h4>{{ competitions[competitionId]['name'] }}</h4>
									<span class="posted_by">{{ competitions[competitionId]['gym'] }}</span>
									<br>
									<span class="posted_by">{{ competitions[competitionId]['date'] }}</span>
									<!--span class="comment"><a href="">21<i class="icon-bubble2"></i></a></span-->




								</div>
							</div>
								</a>
						</div>
					</div>

					 {% endfor %}





{% endif %}


			</div>
		</div>
		<!-- fh5co-blog-section -->

	</div>

{% endblock %}